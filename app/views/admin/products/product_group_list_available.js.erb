<script type="text/javascript">
  function displayRow(){
    var row = document.getElementById("captionRow");
    if (row.style.display == '') row.style.display = 'none';
    else row.style.display = '';
  }
</script>
<h4><%= t('available_products') %></h4>
<table class="index">
  <thead>
    <tr>
      <th><%= t("sku") %></th>
      <th><% #= order_by_link :name, :text => t("name") %></th>
      <th>&nbsp;</th>
      </tr>
  </thead>
  <tbody>
  <% @available_products.each do |product| %>
      <tr id="<%= dom_id(product) %>">
        <td><%= product.sku %></td>
        <td><%= product.name %></td>
	<td class="actions">
          <%= image_tag "spinner.gif", :style => "display:none", :id => "#{dom_id(product, :spinner)}" %>
          <%= link_to_remote icon('add') + ' ' + t('select'), 
                             {:url => select_admin_product_group_product_path(@product_group, product),
		              :loading => "Element.show(#{dom_id(product, :spinner)})",
		              :update => 'selected-products',
		              :complete => "$('#{dom_id(product)}').remove(); Element.hide(#{dom_id(product, :spinner)});"}, :class => 'iconlink' %>
        </td>        
      </tr>
    <% end %>
    <% if @available_products.empty? %>
     <tr><td colspan="3"><%= t('no_match_found') %>.</td></tr>
    <% end %>
  </tbody>
</table>
